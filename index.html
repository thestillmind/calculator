<!DOCTYPE html>
<html lang="en-GB">

<head>
    <title>Calculator!</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <style>
        html,
        body {
            margin: 0 10px 0 10px;
            padding: 0;
            color: rgba(68, 68, 68, 0.9);
            font-family: 'Raleway', sans-serif;
        }

        * {
            box-sizing: border-box;
        }

        .calculator-container {
            margin: auto auto;
            width: 500px;
            height: 150px;

        }

        .calculator {}

        .display input {
            width: 100%;
        }

        .buttons-container {
            display: grid;
            grid-template-columns: auto auto auto auto;
        }

        .button {
            border: 1px solid black;
            background-color: #ccc;
        }
    </style>
</head>


<body>

    <main>

        <div class="calculator-container">

            <div class="calculator">
                <div class="display"><input></div>
                <div class="buttons-container">

                    <button class="button operation-btn">(</button><button
                        class="button operation-btn">)</button><button class="button operation-btn">%</button><button
                        class="button clear-btn">A/C</button>
                    <button class="button num-btn">7</button><button class="button num-btn">8</button><button
                        class="button num-btn">9</button><button class="button operation-btn">/</button>
                    <button class="button num-btn">4</button><button class="button num-btn">5</button><button
                        class="button num-btn">6</button><button class="button operation-btn">X</button>
                    <button class="button num-btn">1</button><button class="button num-btn">2</button><button
                        class="button num-btn">3</button><button class="button operation-btn">-</button>
                    <button class="button num-btn">0</button><button class="button operation-btn">.</button><button
                        class="button equals-btn">=</button><button class="button operation-btn">+</button>

                </div>
            </div>
        </div>

    </main>


    <script>

        function subtract(input) {
            return input.reduce((total, current) => total - current);
            console.log("subtract");
            return a - b;
        }

        function sum(input) {
            // console.log("sum input is "+input);
            return input.reduce((total, current) => total + current, 0);
        }

        function multiply(input) {
            console.log("multiply");
            return input.reduce((total, current) => total * current);
        }

        function divide(input) {
            console.log("divide");
            return input.reduce((total, current) => total / current);
        }

        function operate(num, operand) {

            if (operand == "+") {
                return sum(num);
            }

            if (operand == "-") {
                return subtract(num);
            }

            if (operand == "X") {
                return multiply(num);
            }

            if (operand == "/") {
                return divide(num);
            }
        }

        const input = document.querySelector('.calculator input');

        let num = '';
        let symbol = '';
        let arr = [];
        let symbolArr=[];

        const numberBtn = document.querySelectorAll('.calculator .num-btn');
        numberBtn.forEach((item) => {
            item.addEventListener('click', () => {
               
                num += item.innerText;
                input.value = num;
            });
        });


        const operationButton = document.querySelectorAll('.calculator .operation-btn');
        operationButton.forEach((calcBtn) => {//To add the same eventlistener to multiple items, you need to loop thru each item to add the listener
            calcBtn.addEventListener('click', () => {

                arr.push(+num);
                symbol += calcBtn.innerText;
                input.value=num+symbol;
                num = '';
            
               // symbol += calcBtn.innerText;
                

            });
        });

        const equalsButton = document.querySelector('.calculator .equals-btn');
        equalsButton.addEventListener('click', () => {
            equals(arr, symbol);
        });
        function equals(array, symbol) {
            arr.push(+num);
            console.log("arr is " + array + " symbol is " + symbol);
            if (array.length == 2) {
                console.log("array is " + array);
                return input.value = operate(array, symbol);
            }
        }

        const clearBtn = document.querySelector('.calculator .clear-btn');
        clearBtn.addEventListener('click', () => {
            num = '';
            symbol = '';
            arr = [];
            input.value = '';
        });

    </script>
</body>

</html>